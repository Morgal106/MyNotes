---
tags : [ 编程语言, Rust ]
---
# Rust 数据类型

## 标量类型

Rust 会自动推断数据类型，但如果有多个推断结果时，必须指定数据类型，否则会报错

### 整数类型

| 长度           | 有符号 | 无符号 |
| -------------- | ------ | ------ |
| 8位            | i8     | u8     |
| 16位           | i16    | u16    |
| ...            | ...    | ...    |
| 128位          | i128   | u128   |
| 取决于系统架构 | isize  | usize  |

#### 整数字面值

| 进制          | 例          |
| ------------- | ----------- |
| 十进制        | 98_222      |
| 十六进制      | 0xff        |
| 八进制        | 0o77        |
| 二进制        | 0b1111_0000 |
| Byte(u8 only) | b'A'        |

除了Byte以外的整数字面值都允许使用类型后缀

- 例如57u8

#### 整数溢出

例如：u8的范围是0~255，当你把一个u8变量赋值256时

- 在调试模式下，Rust会检查整数溢出，编译会报错
- 在release模式下，Rust不会检查整数溢出，数值会循环
  - 256会变成0，257会变成1

### 浮点类型

| 长度         | 关键字 |
| ------ | ------ |
| 32（单精度） | f32    |
| 64（双精度） | f64    |

### 布尔类型

bool，两个值 true 和 false

### 字符类型

- char类型用来描述单个字符
- 字面值用单引号
- 占用4个字节
- 使用unicode编码，内容量比ASCII多得多，包含CJK字符、小语种字符、甚至是Emoji表情

## 复合类型

### 元组（Tuple）

Tuple 可以将多个类型的多个值放在一起
Tuple 的长度是固定的，一旦创建就无法修改

```rust
fn main(){
 let tup: (i64, f32, char) = (32, 5.7, '😭');
 let (x,y,z) = tup;
 println!("{}, {}, {},", x, y, z);
}
```

访问 Tuple 的元素使用点标记法 `tup.1` 点后面加索引号

### 数组

数组将相同类型的值放在一起
数组也是定长的，一旦创建就无法修改

数组的定义方式：

```rust
fn main(){
 let a:[i32,5] = [1, 2, 3, 4, 5];//数组类型表示[类型, 长度]
 //当一个数组中所有元素都相同时，使用[元素; 长度]快速定义数组
 let a = [3;5];
 let a = [5, 5, 5, 5, 5];
}
```

数组可以通过索引访问，Rust 中不允许数组溢出
编译器会检查简单的数组索引溢出，复杂的索引溢出可以通过编译，但是运行时会报错

Vector 是变长的，当不确定使用 Vector 还是数组时，使用 Vector
